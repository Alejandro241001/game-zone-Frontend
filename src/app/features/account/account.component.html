<div class="account-container">
  <h2 class="text-center mb-4">丘뙖잺 Ajustes de cuenta</h2>

  <div class="profile-section text-center">
    <img
      [src]="'http://localhost:8080/img/' + (user.image || 'default.png')"
      alt="Foto de perfil"
      (error)="onImageError($event)"
      class="profile-img mb-3"
    />
    <input type="file" (change)="onFileSelected($event)" accept="image/*" class="form-control mb-3" />
  </div>

  <form (ngSubmit)="updateUser()">
    <div class="row mb-3">
      <div class="col-md-12">
        <label class="form-label fw-bold">Nombre de usuario</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="user.username"
          name="username"
          required
        />
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label fw-bold">Nombre</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="user.firstName"
          name="firstName"
          required
        />
      </div>
      <div class="col-md-6">
        <label class="form-label fw-bold">Apellidos</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="user.lastName"
          name="lastName"
          required
        />
      </div>
    </div>

    <button type="submit" class="btn btn-danger w-100 mt-3">
      游 Guardar cambios
    </button>
  </form>

  <hr class="my-4" />

  <h5>游 Cambiar contrase침a</h5>
  <form (ngSubmit)="changePassword()">
    <div class="mb-3">
      <label class="form-label fw-bold">Nueva contrase침a</label>
      <input
        type="password"
        class="form-control"
        [(ngModel)]="newPassword"
        name="newPassword"
        required
      />
    </div>
    <div class="mb-3">
      <label class="form-label fw-bold">Confirmar contrase침a</label>
      <input
        type="password"
        class="form-control"
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        required
      />
    </div>

    <button type="submit" class="btn btn-warning w-100">
      游댃 Actualizar contrase침a
    </button>
  </form>
</div>
